(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fbd6930"],{"24fd":function(t,e,a){"use strict";var i=a("4876");e["a"]={GetOrgs:function(t,e){Object(i["b"])("/orgs",t,e)},AddOrg:function(t,e){Object(i["d"])("/orgs",t,e)},UpdateOrg:function(t,e){Object(i["e"])("/orgs",t,e)},DeleteOrg:function(t,e){Object(i["a"])("/orgs/"+t,null,e)},GetContrastTree:function(t,e){Object(i["b"])("/contrasttree",t,e)}}},"26b7":function(t,e,a){},"333d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},n=[];a("c57a");Math.easeInOutQuad=function(t,e,a,i){return t/=i/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function s(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var i=c(),n=t-i,l=20,o=0;e="undefined"===typeof e?500:e;var d=function t(){o+=l;var c=Math.easeInOutQuad(o,i,n,e);s(c),o<e?r(t):a&&"function"===typeof a&&a()};d()}var o={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&l(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},d=o,h=(a("389e"),a("e607")),u=Object(h["a"])(d,i,n,!1,null,"8a31e876",null);e["a"]=u.exports},"389e":function(t,e,a){"use strict";a("26b7")},"604e":function(t,e,a){},a552:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"s-layout"},[a("div",{staticClass:"org-container"},[t._m(0),a("div",{staticClass:"content"},[a("el-tree",{ref:"orgTree",staticClass:"s-contrast-tree",attrs:{data:t.orgData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!0,"show-checkbox":""},on:{check:t.handleCheck}})],1)]),a("div",{staticClass:"s-container"},[a("div",{ref:"listHeader",staticClass:"g-list-header"},[a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.statQuery,"label-suffix":":"}},[a("el-form-item",{attrs:{label:"检测时间"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange",size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.statQuery.timeRange,callback:function(e){t.$set(t.statQuery,"timeRange",e)},expression:"statQuery.timeRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1)]),a("div",{staticClass:"s-content-container"},[a("div",{staticClass:"contrast-info-container"},[a("el-descriptions",{staticClass:"info-table",attrs:{title:"",column:t.contrasts.length,border:"",size:"medium",labelStyle:t.labelStyle,contentStyle:t.contentStyle}},[t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"name_"+i,attrs:{label:"姓名",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.name))])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"code_"+i,attrs:{label:"编号",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.code))])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"avatar_"+i,attrs:{label:"头像",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[a("img",{staticStyle:{width:"130px",height:"80px"},attrs:{src:t._f("fmtAvatar")(e.avatar)}})])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"org_"+i,attrs:{label:"所属部门",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.orgName))])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"post_"+i,attrs:{label:"岗位",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.postName))])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"grade_"+i,attrs:{label:"综合评分(均值)",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.score))])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"volatility_"+i,attrs:{label:"变异性指数(均值)",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.totalVi))])})),t._l(t.contrasts,(function(e,i){return a("el-descriptions-item",{key:"evaluation_"+i,attrs:{label:"健康总评",labelStyle:0!=i?t.itemLabelStyle:t.titleLabelStyle}},[t._v(t._s(e.evaluation))])}))],2)],1),t._m(1),a("div",{staticClass:"info-chart-container"},[t._m(2),a("div",{ref:"gradeTrend",staticClass:"info-chart",attrs:{id:"gradeTrend"}})]),a("div",{staticClass:"info-character-container"},[t._m(3),a("div",{staticClass:"d-content"},[a("div",{staticClass:"content-left"},[t._m(4),a("div",{ref:"character",staticClass:"info-chart",attrs:{id:"character"}})])])]),t._m(5),a("div",{staticClass:"index-chart-container"},[a("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeIndexName,callback:function(e){t.activeIndexName=e},expression:"activeIndexName"}},[a("el-tab-pane",{attrs:{label:"攻击性",name:"aggression"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_aggression"}})]),a("el-tab-pane",{attrs:{label:"压力",name:"stress"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_stress"}})]),a("el-tab-pane",{attrs:{label:"焦虑",name:"tension"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_tension"}})]),a("el-tab-pane",{attrs:{label:"可疑",name:"irritable"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_irritable"}})]),a("el-tab-pane",{attrs:{label:"平衡能力",name:"balance"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_balance"}})]),a("el-tab-pane",{attrs:{label:"自信",name:"charm"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_charm"}})]),a("el-tab-pane",{attrs:{label:"活力",name:"energy"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_energy"}})]),a("el-tab-pane",{attrs:{label:"自我调节",name:"adjust"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_adjust"}})]),a("el-tab-pane",{attrs:{label:"压抑",name:"inhibition"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_inhibition"}})]),a("el-tab-pane",{attrs:{label:"神经质",name:"neuroticism"}},[a("div",{staticClass:"index-chart",attrs:{id:"chart_neuroticism"}})])],1)],1)])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("b",[t._v("请勾选对比人员")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-title"},[a("h2",[t._v("综合评分趋势：")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grade-legend-container"},[a("span",{staticClass:"item"},[t._v("优秀")]),a("span",{staticClass:"item"},[t._v("良好")]),a("span",{staticClass:"item"},[t._v("合格")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-header"},[a("h2",[t._v("情绪坐标")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-remark"},[a("h3",{staticClass:"item"},[t._v("情绪化(0%)")]),a("h3",{staticClass:"item"},[t._v("稳定(100%)")]),a("h3",{staticClass:"item"},[t._v("内向的"),a("br"),t._v("(0%)")]),a("h3",{staticClass:"item"},[t._v("外向的"),a("br"),t._v("(100%)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-title"},[a("h2",[t._v("各指标趋势：")])])}],r=a("fc94"),s=a("566a"),c=(a("ee26"),a("714d"),a("4bff"),a("7ec7"),a("87da"),a("ed40"),a("c662")),l=a("24fd"),o=a("eba6"),d=a("333d"),h=a("2f42"),u=a.n(h),m=a("52c1"),f={data:function(){return{statQuery:{timeRange:[]},labelStyle:{width:"140px",textAlign:"center",backgroundColor:"unset",fontWeight:"bold"},itemLabelStyle:{display:"none"},titleLabelStyle:{textAlign:"center"},contentStyle:{textAlign:"center"},activeIndexName:"aggression",chartObjs:{},contrasts:[{}],colors:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"],indexData:{},chartTimes:[],orgData:[]}},computed:Object(s["a"])({},Object(m["b"])(["characterBorderColors"])),mounted:function(){this.loadOrgData(),this.loadGradeTrendChart(),this.loadCharacterChart(),this.loadIndexChart(),this.listenResize()},methods:{loadOrgData:function(){var t=this;l["a"].GetContrastTree(null,(function(e,a){e||(t.orgData=a.data)}))},onSearch:function(){var t=this;0==this.statQuery.timeRange.length&&(this.statQuery.timeRange=[u()(new Date).subtract(1,"months").format("YYYY-MM-DD"),u()(new Date).format("YYYY-MM-DD")]);var e=Object(r["a"])(this.statQuery.timeRange,2),a=e[0],i=e[1];a=u()(a).format("YYYY-MM-DD"),i=u()(i).format("YYYY-MM-DD");var n=this.contrasts.map((function(t){return t.id})).join(","),s={ids:n,startTime:a,endTime:i};0==n.length&&(this.contrasts=[{}]),c["a"].PersonContrast(s,(function(e,a){if(!e){var i=a.data,n=i.times,r=i.gradeDatas,s=i.characterDatas,c=i.indexDatas;t.indexData=c,t.chartTimes=n,t.setGradeChartData(r),t.setCharacterChartData(s),t.setIndexChartData(t.activeIndexName)}}))},handleCheck:function(t,e){var a=e.checkedNodes.filter((function(t){return 1==t.type}));if(a.length>5)return this.$message({message:"最多选择5个人员同时进行对比！",type:"warning"}),void this.$refs.orgTree.setChecked(t,!1);this.contrasts=a.map((function(t){var e=+t.id.split("_")[1];return Object.assign({},t,{id:e})})),this.onSearch()},loadGradeTrendChart:function(){document.getElementById("gradeTrend")&&document.getElementById("gradeTrend").removeAttribute("_echarts_instance_");var t=o["a"](document.getElementById("gradeTrend")),e={title:{text:""},tooltip:{trigger:"axis"},legend:{show:!1},grid:{top:"30",left:"30",right:"30",bottom:"30",containLabel:!1},xAxis:{type:"category",boundaryGap:!0,nameLocation:"center",axisLine:{show:!0},splitLine:{show:!1},axisTick:{alignWithLabel:!0},data:[]},yAxis:{type:"value",max:100,axisTick:{show:!0},axisLine:{show:!0},splitLine:{show:!1}},series:[]};t.setOption(e),this.chartObjs["grade"]=t,this.setGradeChartArea()},setGradeChartArea:function(){var t=this.chartObjs["grade"],e=this.$refs.gradeTrend.clientWidth,a=e-60;t.setOption({graphic:[{type:"rect",left:30,top:30,z:0,silent:!0,shape:{width:a,height:30},style:{fill:"#b5f1b4"}},{type:"rect",left:30,top:60,z:0,silent:!0,shape:{width:a,height:30},style:{fill:"#81c7fe"}},{type:"rect",left:30,top:90,z:0,silent:!0,shape:{width:a,height:30},style:{fill:"#fed293"}}]})},setGradeChartData:function(t){var e=this;this.loadGradeTrendChart(),this.$nextTick((function(){var a=t.map((function(t){return{name:t.name,type:"line",connectNulls:!0,data:t.data}}));e.chartObjs["grade"].setOption({xAxis:{data:e.chartTimes},series:a})}))},loadCharacterChart:function(){document.getElementById("character")&&document.getElementById("character").removeAttribute("_echarts_instance_");var t=o["a"](document.getElementById("character")),e={title:{text:""},legend:{show:!1},grid:{top:"60",left:"90",right:"80",bottom:"30",containLabel:!1},xAxis:{min:0,max:100,position:"top",interval:20,axisLine:{show:!0},splitLine:{show:!1},axisTick:{alignWithLabel:!0}},yAxis:{min:0,max:100,type:"value",inverse:!0,interval:10,axisTick:{show:!0},axisLine:{show:!0},splitLine:{show:!1}},series:[]};t.setOption(e),this.chartObjs["character"]=t,this.setCharacterChartArea()},setCharacterChartArea:function(){var t=this.chartObjs["character"],e=this.$refs.character.clientWidth,a=this.$refs.character.clientHeight,i=e-170,n=a-90,r=(e-170)/2,s=(a-90)/2,c=[{type:"line",right:77,top:57,z:0,silent:!0,shape:{x1:0,y1:0,x2:0,y2:n},style:{stroke:this.characterBorderColors[0],lineWidth:1}},{type:"line",bottom:27,left:87,z:0,silent:!0,shape:{x1:0,y1:0,x2:i,y2:0},style:{stroke:this.characterBorderColors[0],lineWidth:1}},{type:"line",top:57,left:r+90,z:0,silent:!0,shape:{x1:0,y1:0,x2:0,y2:n},style:{stroke:this.characterBorderColors[1],lineWidth:1}},{type:"line",top:s+60,left:89,z:0,silent:!0,shape:{x1:0,y1:0,x2:i,y2:0},style:{stroke:this.characterBorderColors[2],lineWidth:1}}];t.setOption({graphic:c})},setCharacterChartData:function(t){var e=this;this.loadCharacterChart(),this.$nextTick((function(){var a=t.map((function(t){return{type:"scatter",symbolSize:10,data:t.data}}));e.chartObjs["character"].setOption({tooltip:{formatter:function(e){var a=e.seriesIndex,i=e.value,n=t[a];return"".concat(n.name,": [").concat(i,"]")}},series:a})}))},handleTabClick:function(t,e){var a=this,i=t.name;this.chartObjs[i]||this.$nextTick((function(){a.doLoadChart(i),a.$nextTick((function(){a.setIndexChartData(i)}))}))},loadIndexChart:function(){this.doLoadChart("aggression")},doLoadChart:function(t){document.getElementById("chart_".concat(t))&&document.getElementById("chart_".concat(t)).removeAttribute("_echarts_instance_");var e=document.getElementById("chart_".concat(t));if(e){var a=o["a"](e),i={title:{text:""},tooltip:{trigger:"axis"},legend:{show:!1},grid:{top:"30",left:"30",right:"30",bottom:"30",containLabel:!1},xAxis:{type:"category",boundaryGap:!0,nameLocation:"center",axisLine:{show:!0},splitLine:{show:!1},axisTick:{alignWithLabel:!0},data:[]},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},splitLine:{show:!1}},series:[]};a.setOption(i),this.chartObjs[t]=a}},setIndexChartData:function(t){var e=this;this.doLoadChart(t),this.$nextTick((function(){var a=e.indexData.map((function(e){return{name:e.name,type:"line",connectNulls:!0,data:e.data[t]}}));e.chartObjs[t].setOption({xAxis:{data:e.chartTimes},series:a})}))},listenResize:function(){var t=this;window.onresize=function(){for(var e in t.chartObjs)t.chartObjs[e].resize();t.setGradeChartArea(),t.setCharacterChartArea()}}},components:{Pagination:d["a"]}},p=f,b=(a("d902"),a("e607")),g=Object(b["a"])(p,i,n,!1,null,"239150d4",null);e["default"]=g.exports},c662:function(t,e,a){"use strict";var i=a("4876");e["a"]={GetList:function(t,e){Object(i["b"])("/persons",t,e)},GetPersonDetail:function(t,e){Object(i["b"])("/persons/"+t,null,e)},AddPerson:function(t,e){Object(i["d"])("/persons",t,e)},UpdatePerson:function(t,e){Object(i["e"])("/persons",t,e)},DeletePerson:function(t,e){Object(i["a"])("/persons/"+t,null,e)},PersonContrast:function(t,e){Object(i["b"])("/contrast",t,e)},Capture:function(t,e){Object(i["b"])("/capture",t,e)},GenAvatar:function(t,e){Object(i["b"])("/copyavatar",t,e)},WriteAvatar:function(t,e){Object(i["d"])("/writeavatar",t,e)}}},d902:function(t,e,a){"use strict";a("604e")}}]);